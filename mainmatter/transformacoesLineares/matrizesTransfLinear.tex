\section{Matrizes de transformações lineares}

Quem são as transformações lineares entre espaços vetoriais finitamente gerados?

Primeiro, estudemos uma propriedade relativa a bases.

\begin{theorem}
    Sejam $V$ e $W$ espaços vetoriais sobre um corpo $\mathbb K$, com $1\leq \dim V=n<\infty$ e $\mathcal B$ uma base de $V$.
    Então, para toda $f: \mathcal B\rightarrow W$ função, existe uma única transformação linear $T: V \to W$ tal que $T(v) = f(v)$ para todo $v \in \mathcal B$.
\end{theorem}
\begin{proof}
    Ordenemos a base $\mathcal B$ como $\mathcal C=(v_1, \dots, v_n)$.

    Seja $u \in V$ e $(\alpha_1, \dots, \alpha_n)=(u)_{\mathcal C}$.
    Definimos:
    \begin{equation*}
        T(u) = \sum_{i=1}^n \alpha_i f(v_i).
    \end{equation*}

    $T$ é linear, pois dados $u, w \in V$ e $\beta \in \mathbb K$, com $(\alpha_1, \dots, \alpha_n)=(u)_{\mathcal C}$ e $(\gamma_1, \dots, \gamma_n)=(w)_{\mathcal C}$, temos:
    \begin{equation*}
        \begin{aligned}
            T(u + \beta w) &= T\left(\sum_{i=1}^n (\alpha_i + \beta \gamma_i)v_i\right)\\
            &= \sum_{i=1}^n (\alpha_i + \beta \gamma_i)f(v_i)\\
            &= \sum_{i=1}^n \alpha_i f(v_i) + \beta \sum_{i=1}^n \gamma_i f(v_i)\\
            &= T(u) + \beta T(w).
        \end{aligned}
    \end{equation*}

    Temos que $T$ estende $f$, pois as coordenadas de $v_j$ na base $\mathcal C$ são $(0, \dots, 0, 1, 0, \dots, 0)$ (com $1$ na $j$-ésima posição), logo:
    \begin{equation*}
        T(v_j) = \sum_{i=1}^n \delta_{ij} f(v_i) = f(v_j).
    \end{equation*}
    Finalmente, seja $S: V \to W$ outra transformação linear que estende $f$.
    Seja $u \in V$ e $(\alpha_1, \dots, \alpha_n)=(u)_{\mathcal C}$.
    Então:
    \begin{equation*}
        S(u) = S\left(\sum_{i=1}^n \alpha_i v_i\right) = \sum_{i=1}^n \alpha_i S(v_i) = \sum_{i=1}^n \alpha_i f(v_i) = T(u).
    \end{equation*}
    Assim, $S = T$.
\end{proof}

Quem são todas as transformações lineares de $\mathbb K^n$ em $\mathbb K$?

\begin{example}
    Seja $T: \mathbb K^n \to \mathbb K$ uma transformação linear.
    Temos que $T(x_1, \dots, x_n)= \sum_{i=1}^n x_i T(e_i)$, onde $e_i$ é o $i$-ésimo vetor da base canônica de $\mathbb K^n$.

    Logo, para qualquer escolha $T(e_i)=a_i \in \mathbb K$, existe uma única transformação linear $T: \mathbb K^n \to \mathbb K$ dada por $T(x_1, \dots, x_n) = \sum_{i=1}^n a_i x_i$.

    Essas são todas as transformações lineares de $\mathbb K^n$ em $\mathbb K$.
\end{example}

Quem são todas as transformações lineares de $\mathbb K^n$ em $\mathbb K^m$?

\begin{example}
    Seja $T: \mathbb K^n \to \mathbb K^m$ uma transformação linear.
    Temos que $T(x_1, \dots, x_n)= \sum_{i=1}^n x_i T(e_j)$, onde $e_i$ é o $i$-ésimo vetor da base canônica de $\mathbb K^n$.

    Logo, para qualquer escolha $T(e_j)=(a_{1j}, a_{2j}, \dots, a_{mj}) \in \mathbb K^m$, existe uma única transformação linear $T: \mathbb K^n \to \mathbb K^m$ dada por

    \begin{equation*}
        T(x_1, \dots, x_n) = \left(\sum_{j=1}^n a_{1j} x_j, \sum_{j=1}^n a_{2j} x_j, \dots, \sum_{j=1}^n a_{mj} x_j\right).
    \end{equation*}

    Note que, colocando os vetores em formato de coluna, temos que as coordenadas de $T(x_1, \dots, x_n)$ são dadas pela seguinte coluna:

    \begin{equation*}
        \begin{pmatrix}
            a_{11} & a_{12} & \cdots & a_{1n}\\
            a_{21} & a_{22} & \cdots & a_{2n}\\
            \vdots & \vdots & \ddots & \vdots\\
            a_{m1} & a_{m2} & \cdots & a_{mn}
        \end{pmatrix}
        \begin{pmatrix}
            x_1\\
            x_2\\
            \vdots\\
            x_n
        \end{pmatrix}.
    \end{equation*}
\end{example}

Abaixo, estenderemos esse raciocínio para transformações lineares entre espaços vetoriais quaisquer de dimensão finita positiva.

\begin{definition}
Sejam $V$ e $W$ espaços vetoriais sobre um corpo $\mathbb K$, com $1\leq \dim V=n<\infty$ e $1\leq \dim W=m<\infty$.
Sejam $\mathcal B = (v_1, \dots, v_n)$ uma base ordenada de $V$ e $\mathcal C = (w_1, \dots, w_m)$ uma base ordenada de $W$.
A \emph{matriz de $T$ em relação às bases $\mathcal B$ e $\mathcal C$} é a matriz $[T]_{\mathcal B\mathcal C} \in M_{m\times n}(\mathbb K)$ cuja $j$-ésima coluna é dada por $[T(v_j)]_{\mathcal C}$, ou seja:
\begin{equation*}
    [T]_{\mathcal B\mathcal C} =
    \begin{pmatrix}
        | & | & & |\\
        [T(v_1)]_{\mathcal C} & [T(v_2)]_{\mathcal C} & \cdots & [T(v_n)]_{\mathcal C}\\
        | & | & & |
    \end{pmatrix}.
\end{equation*}

Formalmente, para cada $j\in\{1, \dots, n\}$, seja $(\alpha_{1j}, \alpha_{2j}, \dots, \alpha_{mj}) = (T(v_j))_{\mathcal C}$.
Então:
\begin{equation*}
    [T]_{\mathcal B\mathcal C} =
    \begin{pmatrix}
        \alpha_{11} & \alpha_{12} & \cdots & \alpha_{1n}\\
        \alpha_{21} & \alpha_{22} & \cdots & \alpha_{2n}\\
        \vdots & \vdots & \ddots & \vdots\\
        \alpha_{m1} & \alpha_{m2} & \cdots & \alpha_{mn}
    \end{pmatrix}.
\end{equation*}
\end{definition}

O mesmo fenômeno descrito anteriormente ocorre aqui, como expressado formalmente pela seguinte proposição.

\begin{proposition}
    Sejam $V$ e $W$ espaços vetoriais sobre um corpo $\mathbb K$, com $1\leq \dim V=n<\infty$ e $1\leq \dim W=m<\infty$.
    Sejam $\mathcal B = (v_1, \dots, v_n)$ uma base ordenada de $V$ e $\mathcal C = (w_1, \dots, w_m)$ uma base ordenada de $W$.
    Para toda transformação linear $T: V \to W$ e todo $x \in V$, temos:
    \begin{equation*}
        [T]_{\mathcal B\mathcal C} [x]_{\mathcal B}=[T(x)]_{\mathcal C}.
    \end{equation*}

    Além disso, $[T]_{\mathcal B\mathcal C}$ é a única matriz em $M_{m\times n}(\mathbb K)$ que satisfaz essa propriedade.
    Ou seja, se $A \in M_{m\times n}(\mathbb K)$ é tal que $A[x]_{\mathcal B} = [T(x)]_{\mathcal C}$ para todo $x \in V$, então $A = [T]_{\mathcal B\mathcal C}$.
\end{proposition}

\begin{proof}
    Seja $x \in V$ e $(\alpha_1, \dots, \alpha_n)=(x)_{\mathcal B}$.
    Temos:
    \begin{equation*}
        \begin{aligned}
            \left[T\right]_{\mathcal B\mathcal C} [x]_{\mathcal B} &= 
            \begin{pmatrix}
                | & | & & |\\
                [T(v_1)]_{\mathcal C} & [T(v_2)]_{\mathcal C} & \cdots & [T(v_n)]_{\mathcal C}\\
                | & | & & |
            \end{pmatrix}
            \begin{pmatrix}
                \alpha_1\\
                \alpha_2\\
                \vdots\\
                \alpha_n
            \end{pmatrix}\\
            &= \sum_{i=1}^n \alpha_i [T(v_i)]_{\mathcal C}\\
            &= \left[\sum_{i=1}^n \alpha_i T(v_i)\right]_{\mathcal C}\\
            &= \left[T\left(\sum_{i=1}^n \alpha_i v_i\right)\right]_{\mathcal C}\\
            &= [T(x)]_{\mathcal C}.
        \end{aligned}
    \end{equation*}

    Agora, seja $A \in M_{m\times n}(\mathbb K)$ tal que $A[x]_{\mathcal B} = [T(x)]_{\mathcal C}$ para todo $x \in V$.
    Seja $j \in \{1, \dots, n\}$.
    Então, tomando $x = v_j$, temos que $(v_j)_{\mathcal B}$ é o vetor coluna com $1$ na $j$-ésima posição e $0$ nas demais, ou seja, $(v_j)_{\mathcal B}=(\delta_{ij})_{i=1}^n$.
    \begin{equation*}
        A[e_j] = A[v_j]_{\mathcal B} = [T(v_j)]_{\mathcal C},
    \end{equation*}
    onde $e_j$ é o $j$-ésimo vetor da base canônica de $\mathbb K^n$.
    Logo, sendo $A_1, A_2, \dots, A_n$ as colunas de $A$, temos que:

    \begin{equation*}
        \begin{aligned}
            A [v_j]_{\mathcal B} &= 
            \begin{pmatrix}
                | & | & & |\\
                A_1 & A_2 & \cdots & A_n\\
                | & | & & |
            \end{pmatrix}
            \begin{pmatrix}
                \delta_{1j}\\
                \delta_{2j}\\
                \vdots\\
                \delta_{nj}
            \end{pmatrix}\\
            &= \sum_{i=1}^n \delta_{ij}A_i\\
            &= A_j.
        \end{aligned}
    \end{equation*}

    Por outro lado, $A[v_j]_{\mathcal B} = [T(v_j)]_{\mathcal C}$.
    Assim, a $j$-ésima coluna de $A$ é igual à $j$-ésima coluna de $[T]_{\mathcal B\mathcal C}$.
    Como isso vale para todo $j \in \{1, \dots, n\}$, concluímos que $A = [T]_{\mathcal B\mathcal C}$.
\end{proof}

Dessa forma, toda transformação linear entre espaços vetoriais finitamente gerados pode ser representada por uma matriz, desde que escolhidas bases adequadas para os espaços envolvidos.
Isso mostra que é possível estabelecer uma correspondência entre transformações lineares e matrizes, o que é fundamental para o estudo e aplicação de transformações lineares em diversas áreas da matemática e suas aplicações.

Essa correspondência vai além.
Em verdade, ela é um isomorfismo entre o espaço vetorial das transformações lineares de $V$ em $W$ e o espaço vetorial das matrizes $M_{m\times n}(\mathbb K)$.

\begin{theorem}
    Sejam $V$ e $W$ espaços vetoriais sobre um corpo $\mathbb K$, com $1\leq \dim V=n<\infty$ e $1\leq \dim W=m<\infty$.
    Sejam $\mathcal B = (v_1, \dots, v_n)$ uma base ordenada de $V$ e $\mathcal C = (w_1, \dots, w_m)$ uma base ordenada de $W$.
    A aplicação $\Phi: \mathcal L(V, W) \to M_{m\times n}(\mathbb K)$ dada por $\Phi(T) = [T]_{\mathcal B\mathcal C}$ é um isomorfismo de espaços vetoriais.
\end{theorem}
\begin{proof}
    Verificaremos a linearidade, injetividade e sobrejetividade de $\Phi$.

    Sejam $T, S \in \mathcal L(V, W)$ e $\beta \in \mathbb K$.
    Veremos que $[T+\beta S]_{\mathcal B\mathcal C} = [T]_{\mathcal B\mathcal C} + \beta [S]_{\mathcal B\mathcal C}$.
    Para isso, veremos que, sendo $A=[T]_{\mathcal B\mathcal C} + \beta [S]_{\mathcal B\mathcal C}$, temos $A[x]_{\mathcal B} = [(T + \beta S)(x)]_{\mathcal C}$ para todo $x \in V$.

    Com efeito, temos:

    \begin{equation*}
        \begin{aligned}
            A[x]_{\mathcal B} &= \left([T]_{\mathcal B\mathcal C} + \beta [S]_{\mathcal B\mathcal C}\right)[x]_{\mathcal B}\\
            &= [T]_{\mathcal B\mathcal C}[x]_{\mathcal B} + \beta [S]_{\mathcal B\mathcal C}[x]_{\mathcal B}\\
            &= [T(x)]_{\mathcal C} + \beta [S(x)]_{\mathcal C}\\
            &= [T(x) + \beta S(x)]_{\mathcal C}\\
            &= [(T + \beta S)(x)]_{\mathcal C}.
        \end{aligned}
    \end{equation*}

    Assim, pela unicidade da matriz que satisfaz essa propriedade, temos que $A = [T + \beta S]_{\mathcal B\mathcal C}$.
    Logo, $\Phi$ é linear.

    Vejamos que $\Phi$ é injetora.
    Basta ver que $\ker \Phi = \{0\}$, ou seja, que se $[T]_{\mathcal B\mathcal C} = 0$, então $T = 0$.
    Se $[T]_{\mathcal B\mathcal C} = 0$, então, para todo $v \in V$, temos $[T(v)]_{\mathcal C} = [T]_{\mathcal B\mathcal C}[v]_{\mathcal B} = 0$.
    Como o mapa $[\,\cdot\,]_{\mathcal C}$ é um isomorfismo, isso implica que $T(v) = 0$ para todo $v \in V$, ou seja, $T = 0$.
    Portanto, $\Phi$ é injetora.

    Resta ver que $\Phi$ é sobrejetora.
    Seja $A \in M_{m\times n}(\mathbb K)$.
    Definimos $f: \mathcal B \to W$ como a função que associa a cada $v_j \in \mathcal B$ o vetor  cujas coordenadas na base $\mathcal C$ são dadas pela $j$-ésima coluna de $A$, ou seja, $f(v_j) = \sum_{i=1}^m a_{ij} w_i$, onde $a_{ij}$ é o elemento da $i$-ésima linha e $j$-ésima coluna de $A$.
    Pela caracterização por bases, existe uma única transformação linear $T: V \to W$ que estende $f$.
    Pela definição de $f$, temos que $[T(v_j)]_{\mathcal C}$ é a $j$-ésima coluna de $A$.
    Logo, $[T]_{\mathcal B\mathcal C} = A$.
\end{proof}
\begin{corollary}
    Sejam $V$ e $W$ espaços vetoriais sobre um corpo $\mathbb K$, com $1\leq \dim V=n<\infty$ e $1\leq \dim W=m<\infty$.
    Então $\dim L(V, W) = mn$.
\end{corollary}
\begin{proof}
    Pelo teorema anterior, $\mathcal L(V, W)$ é isomorfo a $M_{m\times n}(\mathbb K)$.
    Como $\dim M_{m\times n}(\mathbb K) = mn$, temos que $\dim \mathcal L(V, W) = mn$.
\end{proof}

Tal isomorfismo também respeita composições, transformando-as em multiplicações de matrizes.

\begin{theorem}
    Sejam $U$, $V$ e $W$ espaços vetoriais sobre um corpo $\mathbb K$, com $1\leq \dim U=p<\infty$, $1\leq \dim V=n<\infty$ e $1\leq \dim W=m<\infty$.
    Sejam $\mathcal A = (u_1, \dots, u_p)$ uma base ordenada de $U$, $\mathcal B = (v_1, \dots, v_n)$ uma base ordenada de $V$ e $\mathcal C = (w_1, \dots, w_m)$ uma base ordenada de $W$.
    Sejam $T: U \to V$ e $S: V \to W$ transformações lineares.
    Então:
    \begin{equation*}
        [S \circ T]_{\mathcal A\mathcal C} = [S]_{\mathcal B\mathcal C} [T]_{\mathcal A\mathcal B}.
    \end{equation*}
\end{theorem}
\begin{proof}
    Seja $u \in U$.
    Temos:
    \begin{equation*}
        \begin{aligned}
            \left[S\right]_{\mathcal B\mathcal C} [T]_{\mathcal A\mathcal B} [u]_{\mathcal A} &= [S]_{\mathcal B\mathcal C} [T(u)]_{\mathcal B}\\
            &= [S(T(u))]_{\mathcal C}\\
        \end{aligned}
    \end{equation*}

    Pela unicidade da matriz que satisfaz essa propriedade, concluímos que $[S \circ T]_{\mathcal A\mathcal C} = [S]_{\mathcal B\mathcal C} [T]_{\mathcal A\mathcal B}$.
\end{proof}

Finalmente, a invertibilidade também é respeitada.

\begin{proposition}
    Sejam $V$ e $W$ espaços vetoriais sobre um corpo $\mathbb K$, com $1\leq \dim V=n<\infty$ e $1\leq \dim W=m<\infty$.
    Sejam $\mathcal B = (v_1, \dots, v_n)$ uma base ordenada de $V$ e $\mathcal C = (w_1, \dots, w_m)$ uma base ordenada de $W$.
    Seja $T: V \to W$ uma transformação linear.
    Então:

    \begin{enumerate}[label=(\alph*)]
        \item $[\id_V]_{\mathcal B\mathcal B} = I_n$, onde $I_n$ é a matriz identidade de ordem $n$.
        \item Se $T$ é um isomorfismo se, e somente se $n = m$ e $[T]_{\mathcal B\mathcal C}$ é invertível.
        Nesse caso, $[T^{-1}]_{\mathcal C\mathcal B} = ([T]_{\mathcal B\mathcal C})^{-1}$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    O primeiro item é imediato, uma vez que $[ \id_V (v_j)]_{\mathcal B} = [v_j]_{\mathcal B}$ é o vetor coluna com $1$ na $j$-ésima posição e $0$ nas demais, ou seja, $[\delta_{ij}]_{i=1}^n$.

    Para o segundo item, suponha que $T$ é um isomorfismo.
    Então, necessariamente, $n = m$ e $[T]_{\mathcal C\mathcal B}$ está bem definida.
    Do item anterior, segue que:
    \begin{equation*}
        I_n = [\id_V]_{\mathcal B\mathcal B} = [T^{-1} \circ T]_{\mathcal B\mathcal B} = [T^{-1}]_{\mathcal C\mathcal B} [T]_{\mathcal B\mathcal C}.
    \end{equation*}
    E que:
    \begin{equation*}
        I_n = [\id_W]_{\mathcal C\mathcal C} = [T \circ T^{-1}]_{\mathcal C\mathcal C} = [T]_{\mathcal B\mathcal C} [T^{-1}]_{\mathcal C\mathcal B}.
    \end{equation*}
    Logo, $[T]_{\mathcal B\mathcal C}$ é invertível e $[T^{-1}]_{\mathcal C\mathcal B} = ([T]_{\mathcal B\mathcal C})^{-1}$.

    Reciprocamente, suponha que $n = m$ e que $[T]_{\mathcal B\mathcal C}$ é invertível.
    Seja $A$ a matriz inversa de $[T]_{\mathcal B\mathcal C}$.
    Seja $S$ uma transformação linear tal que $[S]_{\mathcal C\mathcal B} = A$.
    Então temos o seguinte:
    \begin{equation*}
        [S \circ T]_{\mathcal B\mathcal B} = [S]_{\mathcal C\mathcal B} [T]_{\mathcal B\mathcal C} = A[T]_{\mathcal B\mathcal C} = I_n=[\id_V]_{\mathcal B\mathcal B}.
    \end{equation*}
    Logo, $S \circ T = \id_V$.
    Similarmente, $T \circ S = \id_W$.
    Portanto, $T$ é um isomorfismo e $S = T^{-1}$.
\end{proof}

