\section{Dependência linear e Bases}

\begin{definition}[Dependência linear]
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$ e $A \subseteq V$.
    Dizemos que $A$ é \emph{linearmente independente} se, para toda sequência finita injetora $(v_i)_{i<n}$ em $A$ e toda sequência finita $(\alpha_i)_{i<n}$ em $\mathbb K$, a seguinte implicação é verdadeira:
    \begin{equation*}
        \sum_{i<n} \alpha_i v_i = 0 \implies \alpha_i = 0 \text{ para todo } i<n.
    \end{equation*}
    Caso contrário, dizemos que $A$ é \emph{linearmente dependente}.
\end{definition}

\begin{definition}[Base]
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$.
    Uma \emph{base} de $V$ é um conjunto $B \subseteq V$ que é linearmente independente e gera $V$, ou seja, $\langle B \rangle = V$.
\end{definition}

\begin{lemma}
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$ e $A \subseteq V$.
    Se $v \in V$ é tal que $v \in \langle A\rangle\setminus A$, então $A\cup \{v\}$ é linearmente dependente.
\end{lemma}
\begin{proof}
    Seja $v \in \langle A\rangle\setminus A$.
    Então existem $n \in \mathbb N$, uma sequência finita $(\alpha_i)_{i<n}$ em $\mathbb K$ e uma sequência finita injetora $(v_i)_{i<n}$ em $A$ tais que $v = \sum_{i<n} \alpha_i v_i$.
    Assim, $0 = v - v = \sum_{i<n} \alpha_i v_i + (-1)v$.
    Note que $-1 \neq 0$ e $v \notin A$, logo $A \cup \{v\}$ é linearmente dependente.
\end{proof}

\begin{lemma}
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$ e $A \subseteq V$.
    Se $A$ é linearmente independente e $v \in V\setminus A$, então $A \cup \{v\}$ é linearmente independente se, e somente se, $v \notin \langle A \rangle$.
\end{lemma}
\begin{proof}
    Seja $v \in V\setminus A$.
    
    Pelo lema anterior, se $v \in \langle A \rangle$, então $A \cup \{v\}$ é linearmente dependente.

    Reciprocamente, se $A\cup\{v\}$ é linearmente dependente, existem $n \in \mathbb N$, uma sequência finita $(\alpha_i)_{i<n}$ em $\mathbb K$, não toda nula, e uma sequência finita injetora $(u_i)_{i<n}$ em $A \cup \{v\}$ tais que $\sum_{i<n} \alpha_i u_i = 0$.

    Como $A$ é linearmente independente, $v$ deve aparecer em $(u_i)_{i<n}$.
    Assim, em realidade, existem $m \in \mathbb N$, uma sequência finita $(\beta_i)_{i<m}$ em $\mathbb K$, não toda nula, e uma sequência finita injetora $(w_i)_{i<m}$ em $A$ tais que $\sum_{i<m} \beta_i w_i + \gamma v = 0$, com $\gamma \neq 0$.

    Novamente, como $A$ é linearmente independente, $\gamma \neq 0$.
    Assim, $v = -\frac{1}{\gamma} \sum_{i<m} \beta_i w_i \in \langle A \rangle$.
\end{proof}

\begin{definition}
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$.
    Dizemos que $V$ é \emph{finitamente gerado} se existe um conjunto finito $A \subseteq V$ tal que $\langle A \rangle = V$.
\end{definition}


\begin{proposition}
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$ e $G$ um gerador finito de $V$.
    Então existe $B \subseteq G$ que é uma base de $V$.
\end{proposition}
\begin{proof}
    Provaremos por indução no tamanho de $G$.

    Se $|G|=0$, então $G=\emptyset$.
    Tome $B=\emptyset$. Então $B$ é uma base de $V$.

    Suponha que o resultado seja verdadeiro para todo gerador finito de tamanho $n$, independentemente do espaço vetorial.

    Seja $G$ um gerador finito de tamanho $n+1$.
    Seja $v \in G$ qualquer e seja $G' = G \setminus \{v\}$ e $W=\langle G'\rangle$.
    Por hipótese de indução, existe $B' \subseteq G'$ que é uma base de $W$.

    \textbf{Caso 1:} se $B'\cup \{v\}$ é linearmente independente, então $G=G'\cup\{v\}\subseteq \langle B'\cup\{v\}\rangle$, o que implica que $V=\langle G\rangle\subseteq \langle B'\cup\{v\}\rangle$.
    Assim, $B=B'\cup\{v\}$ é um conjunto LI gerador de $V$, ou seja, uma base de $V$.

    \textbf{Caso 2:} se $B'\cup \{v\}$ é linearmente dependente.
    Nesse caso, como $B'$ é LI, temos que $v \in \langle B'\rangle \subseteq W = \langle G'\rangle$.
    Assim, $G\subseteq \langle B'\rangle$, e, portanto, $V=\langle G\rangle \subseteq \langle B'\rangle$.
    Logo, $B=B'$ é uma base de $V$.
\end{proof}

Note que a demonstração acima nos dá um algoritmo para encontrar uma base a partir de um gerador finito.
Façamos um exemplo prático disso.

\begin{example}
Seja $V=\mathbb R[x]$ o espaço vetorial dos polinômios com coeficientes reais.
Considere $W=\langle 0, 1, x^2+1, x^2-1, x^3+3x+2\rangle$.
Vamos encontrar uma base de $W$.

Para tanto, vamos, recursivamente, construir bases para $\langle\emptyset\rangle, \langle 0\rangle, \langle 0, 1\rangle, \langle 0, 1, x^2+1\rangle, \langle 0, 1, x^2+1, x^2-1\rangle$ e $\langle 0, 1, x^2+1, x^2-1, x^3+3x+2\rangle$.


\begin{itemize}
\item Temos que $B_0=\emptyset$ é uma base de $\langle\emptyset\rangle$.
\item Para obter uma base de $\langle 0\rangle$, basta ver se $B_0\cup\{0\}$ é ou não LI.
Como $\{0\}$ é LD, temos que $B_1=B_0=\emptyset$ é uma base de $\langle 0\rangle$.
\item Para obter uma base de $\langle 0, 1\rangle$, vejamos se $B_1\cup\{1\}$ é ou não LI.
Como $\{1\}$ é LI, temos que $B_2=B_1\cup\{1\}=\{1\}$ é uma base de $\langle 0, 1\rangle$.
\item Para obter uma base de $\langle 0, 1, x^2+1\rangle$, vejamos se $B_2\cup\{x^2+1\}$ é ou não LI.
Como $x^2+1 \notin \langle B_2\rangle =\{\alpha: \alpha \in \mathbb R\}$, temos que $B_3=B_2\cup\{x^2+1\}=\{1, x^2+1\}$ é uma base de $\langle 0, 1, x^2+1\rangle$.
\item Para obter uma base de $\langle 0, 1, x^2+1, x^2-1\rangle$, vejamos se $B_3\cup\{x^2-1\}$ é ou não LI.
Como $x^2-1 = (x^2+1) - 2\cdot 1 \in \langle B_3\rangle$, temos que $B_4=B_3=\{1, x^2+1\}$ é uma base de $\langle 0, 1, x^2+1, x^2-1\rangle$.
\item Finalmente, para obter uma base de $\langle 0, 1, x^2+1, x^2-1, x^3+3x+2\rangle$, vejamos se $B_4\cup\{x^3+3x+2\}$ é ou não LI.
Como $x^3+3x+2 \notin \langle B_4\rangle = \{\alpha + \beta (x^2+1) : \alpha, \beta \in \mathbb R\}$, temos que $B_5=B_4\cup\{x^3+3x+2\}=\{1, x^2+1, x^3+3x+2\}$ é uma base de $\langle 0, 1, x^2+1, x^2-1, x^3+3x+2\rangle$.
\end{itemize}
\end{example}
\begin{corollary}
Todo espaço finitamente gerado possui uma base finita.
\end{corollary}
Em geral, vale que todo espaço vetorial tem base.
Porém, a prova deste fato não é elementar, e depende de um uso não trivial do Axioma da Escolha, sendo, portanto, um resultado de existência não construtivo: há espaços vetoriais não finitamente gerados cujas bases não são descritíveis por um algoritmo concreto, como o que vimos em ação acima.

O nosso próximo objetivo é mostrar que, em um espaço vetorial finitamente gerado, todas as bases possuem o mesmo tamanho.
\begin{proposition}
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$.
    Se $G$ é um gerador finito de $V$ e $L$ é um conjunto linearmente independente de $V$, então $|L| \leq |G|$.
\end{proposition}
\begin{proof}
    Suponha que $|L| > |G|$.
    Veremos que $L$ é linearmente dependente.
    Sem perda de generalidade, $|L|=n+1>n=|G|$.

    Enumeremos $G=\{u_i : 1\leq i \leq n\}$ e $L=\{v_{j+1} : 1\leq j \leq n+1\}$.

    Como $G$ gera $V$, para cada $j\in\{1, \dots, n+1\}$ existem $a_{1j}, \ldots, a_{nj} \in \mathbb K$ tais que $u_i = \sum_{j=1}^n a_{ij} v_j$.
    

    Vejamos que $L$ é linearmente dependente.
    Basta ver que existem $\beta_1, \ldots, \beta_{n+1} \in \mathbb K$, não todos nulos tais que $\sum_{j=1}^{n+1} \beta_j v_j = 0$, ou seja, tais que:

    \begin{align*}
        0=\sum_{j=1}^{n+1} \beta_j v_j =\sum_{j=1}^{n+1}\beta_j \sum_{i=1}^{n} a_{ij}u_i =\sum_{i=1}^{n}\sum_{j=1}^{n+1} a_{ij}\beta_j u_i
    \end{align*}

    É suficiente ver que o seguinte sistema tenha solução não trivial:
    \begin{align*}
        \begin{cases}
            a_{11}\beta_1 + a_{12}\beta_2 + \cdots + a_{1(n+1)}\beta_{n+1} = 0 \\
            a_{21}\beta_1 + a_{22}\beta_2 + \cdots + a_{2(n+1)}\beta_{n+1} = 0 \\
            \vdots \\
            a_{n1}\beta_1 + a_{n2}\beta_2 + \cdots + a_{n(n+1)}\beta_{n+1} = 0.
        \end{cases}
    \end{align*}

    Sendo este um sistema de $n$ equações e $n+1$ incógnitas, como ao escaloná-lo obtemos no máximo $n$ pivôs, existe ao menos uma coluna sem pivô.
    Assim, existe uma solução não trivial.
\end{proof}

\begin{corollary}
    Seja $V$ um espaço vetorial sobre um corpo $\mathbb K$.
    Se $V$ é finitamente gerado, então todas as bases de $V$ possuem o mesmo tamanho.
\end{corollary}
\begin{proof}
    Como $V$ é finitamente gerado, existe uma base finita $B$ de $V$.
    Seja $n=|B|$.
    Veremos que toda base de $V$ possui tamanho $n$.

    Seja $C$ uma base qualquer de $V$.
    Em particular, $C$ é um gerador de $V$. Como $B$ é um gerador finito de $V$, pelo resultado anterior, temos que $|C| \leq |B|$.

    Assim, $C$ é um gerador finito de $V$.
    Como $B$ é linearmente independente, pelo resultado anterior, temos que $|B| \leq |C|$.

    Assim, $|C|=|B|=n$.
\end{proof}

Novamente, é um resultado verdadeiro que todas as bases de um espaço vetorial possuem o mesmo tamanho, mesmo que o espaço não seja finitamente gerado.
Porém, há de se definir o que significa dizer que dois conjuntos infinitos possuem o mesmo tamanho.
Em geral, dizemos que dois conjuntos possuem a mesma cardinalidade (tamanho, ou número de elementos) se existe uma bijeção entre eles.
Porém, o \emph{número de elementos} de um conjunto infinito é um tema da combinatória infinita e da teoria dos conjuntos que foge do escopo deste texto, e não será tratado aqui.

\begin{definition}
    Seja $V$ um espaço vetorial.
    A dimensão de $V$, denotada por $\dim V$, é a cardinalidade de uma (toda) base de $V$.
    Se a dimensão de $V$ é finita, dizemos que $V$ é de \emph{dimensão finita}.
    Caso contrário, dizemos que $V$ é de \emph{dimensão infinita}.
\end{definition}

\begin{corollary}
    Um espaço vetorial possui dimensão finita se, e somente se, é finitamente gerado.
\end{corollary}
\begin{example}[A base canônica de $\mathbb K^n$]
    O conjunto $B=\{e_1, e_2, \ldots, e_n\} \subseteq \mathbb K^n$, onde $e_i$ é o vetor cujas coordenadas são todas nulas, exceto a $i$-ésima, que é igual a $1$, é uma base de $\mathbb K^n$.

    Assim, $\dim \mathbb K^n = n$.
\end{example}

\begin{example}
    O conjunto $B=\{1, x, x^2, x^3, \ldots\} \subseteq \mathbb K[x]$ é uma base de $\mathbb K[x]$.

    Assim, $\mathbb K[x]$ é de dimensão infinita.

    Por outro lado, $P_n(\mathbb K)$, o espaço dos polinômios de grau no máximo $n$, é gerado pelo conjunto LI $B_n=\{1, x, x^2, \ldots, x^n\}$.
    Assim, $\dim P_n(\mathbb K) = n+1$.
\end{example}

\begin{proposition}
Seja $V$ um espaço vetorial de dimensão finita, $n$.
Então todo conjunto LI de tamanho $n$ é uma base de $V$, e todo conjunto gerador de tamanho $n$ é uma base de $V$.
\end{proposition}
\begin{proof}
    Seja $L \subseteq V$ um conjunto LI de tamanho $n$.
    Se $L$ não gera $V$, temos que existe $v \in V$ tal que $v \notin \langle L \rangle$.
    Assim, $L \cup \{v\}$ é LI, o que é um absurdo, pois $|L \cup \{v\}| = n+1 > n = \dim V$.

    Agora seja $G\subseteq V$ um conjunto gerador de tamanho $n$.
    Se $G$ não é LI, existem $\alpha_1, \ldots, \alpha_n \in \mathbb K$, não todos nulos, e $v_1, \ldots, v_n \in G$ tais que $\sum_{i=1}^n \alpha_i v_i = 0$.
    Sem perda de generalidade, suponha que $\alpha_1 \neq 0$.
    Assim, $v_1 = -\frac{1}{\alpha_1} \sum_{i=2}^n \alpha_i v_i \in \langle G\setminus\{v_1\}\rangle$.
    Logo, $G \subseteq \langle v_2, \ldots, v_n \rangle$, o que implica que $V = \langle G \rangle \subseteq \langle v_2, \ldots, v_n \rangle$.
    Assim, $v_2, \ldots, v_n$ é um conjunto gerador de $V$ com $n-1 < n = \dim V$ elementos, o que é um absurdo.
\end{proof}

A hipótese de dimensão finita é essencial no resultado acima.
\begin{example}
    Considere o espaço vetorial $\mathbb K[x]$.
    O conjunto $L=\{1, x, x^2, \ldots\}$ é uma base de $\mathbb K[x]$.

    O conjunto $\{x, x^2, x^3, \ldots\}$ é LI, mas não é uma base de $\mathbb K[x]$, pois não gera $1$.

    Finalmente, note que $\{0, 1, x, x^2, \ldots\}$ é um gerador de $\mathbb K[x]$, mas não é uma base de $\mathbb K[x]$, pois é linearmente dependente.

    Note que esses três conjuntos bijetam entre si (são enumeráveis)
\end{example}

\begin{proposition}
    Seja $V$ um espaço vetorial de dimensão finita sobre um corpo $\mathbb K$ e $W\subseteq V$ um subespaço vetorial.
    Então $\dim W\leq \dim V$ e $\dim W=\dim V$ se, e somente se $W=V$.
\end{proposition}
\begin{proof}
    Seja $n=\dim V$ e $m=\dim W$.
    Toda base de $\mathcal W$ é um conjunto LI de $V$, logo, $m \leq n$.
    
    Se $\dim W=\dim V$, toda base de $W$ é uma base de $V$, logo, $W=V$.

    Reciprocamente, se $W=V$, então $\dim W=\dim V$.
\end{proof}

Podemos ainda estender conjuntos L.I. a bases, o que sempre é possível em geral.
Para dimensão finita, também podemos fazer isso de forma concreta.

\begin{proposition}
    Seja $V$ um espaço vetorial de dimensão finita sobre um corpo $\mathbb K$ e $L \subseteq V$ linearmente independente.
    Seja $G$ um conjunto gerador de $V$.

    Então existe $G'\subseteq G$ tal que $G'\cup L$ é uma base de $V$.
\end{proposition}
\begin{proof}
    Seja $n=\dim V$ e $m=|L|$. Se $m=n$, então $L$ é uma base de $V$ e podemos tomar $G'=\emptyset$.
    
    Suponha que $m<n$ e seja $k=n-m$.
    Recursivamente, construiremos $G'=\{v_1, \ldots, v_k\} \subseteq G$ tal que $L_i = L \cup \{v_1, \ldots, v_i\}$ é LI para todo $i \in \{1, \ldots, k\}$.

    Como $G$ é um gerador de $V$ e $L$ não gera $V$, existe $v_1 \in G$ tal que $v_1 \notin \langle L \rangle$.
    Assim, $L_1 = L \cup \{v_1\}$ é LI.
    Suponha que $v_1, \ldots, v_i$ já foram construídos, com $i<k$, tais que $L_i = L \cup \{v_1, \ldots, v_i\}$ é LI.
    Como $G$ é um gerador de $V$ e $L_i$ não gera $V$, existe $v_{i+1} \in G$ tal que $v_{i+1} \notin \langle L_i \rangle$.
    Assim, $L_{i+1} = L \cup \{v_1, \ldots, v_{i+1}\}$ é LI.

    Ao final, $L\cup G'$ é um conjunto LI com $m+k=n$ elementos, logo, é uma base de $V$.
\end{proof}

Façamos outro exemplo prático.

\begin{example}
    Considere o espaço vetorial $\mathbb R^4$.
    Seja $L=\{(1,0,0,0), (1,1,0,0)\}$.
    Note que $L$ é LI, mas não é uma base de $\mathbb R^4$, pois não gera $\mathbb R^4$.

    Considere $G=\{(1, 1, 0, 0), (0, 1, 0, 0), (1, 3, 2, 4), (1, 2, 2, 4)\}$ e seja $W=\langle G \rangle$.

    Temos que $L\subseteq W$, pois $(1, 0, 0, 0) = (1, 1, 0, 0) - (0, 1, 0, 0)$.
    Vamos encontrar $G' \subseteq G$ tal que $L \cup G'$ é uma base de $W$.

    Note que $|L|=2$ e $\dim W \leq  \dim \mathbb R^4 = 4$.
    Assim, estenderemos $L$ a uma base de $W$ com no máximo $2$ vetores de $G$.

    Será que $G\subseteq \langle L \rangle$? Sim:
    $(1, 1, 0, 0) \in \langle L \rangle$ e $(0, 1, 0, 0) \in \langle L \rangle$, pois $(0, 1, 0, 0) = (1, 1, 0, 0) - (1, 0, 0, 0)$.

    Porém, $(1, 3, 2, 4) \notin \langle L \rangle$, logo, seja $\mathcal B'= L \cup \{(1, 3, 2, 4)\}$.

    Será que $\mathcal B'$ é uma base de $W$? Isso ocorre se, e somente se $(0, 2, 2, 4) \in \langle \mathcal B' \rangle$.
    A resposta é positiva: resolvendo-se um sistema, vemos que $(0, 2, 2, 4) = (1, 3, 2, 4) -(1, 1, 0, 0) + 1(1, 0, 0, 0)$.
\end{example}